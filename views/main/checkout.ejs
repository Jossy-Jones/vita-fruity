<!DOCTYPE html>
<html lang="en"><!-- Basic -->
<head>
   <% include includes/metaMain %>
   <link rel="stylesheet" type="text/css" href="css/toggle-switch.css">
</head>




<body>
	<!-- Start header -->
    <% include includes/header %>
	<!-- End header -->

<style type="text/css">


	.checkoutContentWrapper {
		margin: auto;
		margin-top: 7vh;
		margin-bottom: 20vh;
	}

.toggleSwitch input:checked ~ span:before {
    border-color: #f1ab56;
    box-shadow: inset 0 0 0 30px #f1ab56;
}

.dialog-btn {
	border: 0px;
}	

.btn-checkout {
	background: #d2740b;
	color: #fff;
}

.btn-checkout:hover {
	background: #985307
}


</style>	
	
	<div class="all-page-title page-breadcrumb">
		<div class="container text-center">
			<div class="row">
				<div class="col-lg-12">
					<h1>checkout</h1>
					<div class="bread-crumb white">
						<a class="" href="">Home</a>
						<span>Checkout</span>
					</div>
				</div>
			</div>
		</div>
	</div>

	<div class="container row checkoutContentWrapper">


		<!-- customer details -->
		<div class="col-md-7 col-sm-7 col-xs-12 customer-details">
			<h2>Customer details</h2>	
			<h4>All asterisked (*) fields are required.</h4>

			<form id="customerDetails">
				<div class="row">
					<div class="form-group col-md-6 col-sm-6 col-xs-12">
						<input type="text" class="form-control"  name="firstName" placeholder="First Name *">
					</div>

					<div class="form-group col-md-6 col-sm-6 col-xs-12">
						<input type="text" class="form-control" name="lastName" placeholder="Last Name *">
					</div>


				</div>	

				<div class="row">
					<div class="form-group col-md-6 col-sm-6 col-xs-12">
						<input type="email" class="form-control" name="email" placeholder="Email *">
					</div>

					<div class="form-group col-md-6 col-sm-6 col-xs-12">
						<input type="text" class="form-control"  name="phone" placeholder="Phone (e.g. 08023456789) *" value="" maxlength="11">
					</div>
				</div>

				<div class="row">
					<div class="form-group col-12">
						<input type="text" class="form-control" id="address" placeholder="Residential Address *">
					</div>

					<br><br>
					<div class="row">

						<p class="col-4">
						  <label class="toggleSwitch nolabel" onclick="">

						        <input type="checkbox" name="isNotPip" value="1"/>
						        <span>
<!-- 						            <span>OFF</span>
						            <span>ON</span> -->
						        </span>
						        <a></a>
						    </label>
						    
						</p>

						<p class="col-8" style="margin-top: -2%"><span>Is someone else picking up?</span></p>		

					</div>
				</div>

				<div class="row">
					<div class="col-12">
					  <div class="form-group">
					    <label for="exampleTextarea">Additional Information (optional)</label>
					    <textarea class="form-control" name="addInfo" rows="12"></textarea>
					  </div>
					</div>
				</div>					

			</form>


		</div>


		<!-- right -->
		<div class="col-md-5 col-sm-5 col-xs-12">
			<h2>Order Summary</h2>

 		
	 		<div>
	 			<% if (products.length > 0) { -%>
	 				<% include components/checkoutItems %>
	 			<% } else { -%>
	 				
	 			<% } -%>
	 			
	 		</div>
	 		
						<div id="pickup-form">
							<form>
<!-- 								<div class="form-group">
									<input type="text" name="store" placeholder="Select Store" onfocus="this.placeholder=''" onblur="this.placeholder='Select Store'" required list="store-list">
									<datalist id="store-list">
										<option>Delta Mall</option>
									</datalist>
								</div> -->
								<div class="delivery-price">
									<h4>Delivery: &#8358;<span>0</span></h4>
									<input type="hidden" value="0" id="pickup-deliveryPrice">
								</div>
								<div class="total-price">
									<h3>Total: &#8358;<span id="totalPrice"><%= (totalPrice) ? totalPrice.toLocaleString()  : 0%></h3>
									
								</div>
								<div class="checkout-btn-wrapper">
									<button type="button" onclick="initPayment()"  class="btn btn-checkout">PLACE ORDER</button>
								</div>
							</form>
						</div>

		</div>
	</div>




 <% include includes/footer %>
 <script src="https://js.paystack.co/v1/inline.js"></script>
 <script type="text/javascript">

 	function submitOrder(arg) {
 		return new Promise((resolve, reject)=>{

 		});
 	}

 	function initPayment() {
	 		/*
	 		* Place order
			* Pay
			* Open Modal
			* Redirect somewhere safe	
	 		*/
	 		let form = $("form#customerDetails")[0];
	 		let formData = new FormData(form);

			for(var pair of formData.entries()) {
			   console.log(pair[0]+ ' => '+ pair[1]); 
			}

			console.log(formData.get('last_name'));

 	}
 </script>
</body>
</html>